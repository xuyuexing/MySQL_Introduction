# Day 1

## 第一次任务发布

任务一任务内容&打卡链接：https://shimo.im/docs/cTEYCyunBqM81E4T/ 《MySQL任务1打卡》

任务截止时间：3月31日（明天）22:00，未按时打卡将会被清退。

请在上面链接中查看任务内容，完成后在表格对应处填写博客链接。

## 任务一内容

### MySQL 软件安装及数据库基础

#### 学习

1. 软件安装及服务器设置。
   教程 http://www.runoob.com/mysql/mysql-install.html

2. (选做，但是强烈建议) 使用图形界面软件 Navicat for SQL
   群里提供破解版Navicat for SQL，看群公告或聊天记录搜索888查找。
   简易步骤:
        解压缩文件，复制key
        打开文件夹中的navicat.e
        用户名随意，输入key，然后连接数据库
        输入密码，连接名改成自己喜欢的
        剩下的自己探索，怎么在navicat中创建数据库、表等等

1. 数据库基础知识
   数据库定义
   关系型数据库
   二维表
   行
   列
   主键
   外键

2. MySQL数据库管理系统
   数据库
   数据表
   视图
   存储过程

------

# Day 2

## 第二次任务发布

任务二任务内容&打卡链接：https://shimo.im/docs/fJGE6lUscyQWdMz4/ 《MySQL任务2打卡》

任务截止时间：请大家在4月2日22:00前在石墨文档中的打卡表格处打卡。

任务二是最最基础的查询语句，可以说学完本次课程，SQL语句就掌握了30%了。
语言规范非常重要，请大家认真仔细阅读。请记住，你写SQL需要考虑别人review时的心情。写的过于杂乱会分分钟造成暴力事件。
学习内容中函数部分，是让大家了解下MySQL可以怎样处理一些数据。了解些常用的，等实际中遇到了再回头查找详细就行。
祝大家学习开心。:-)

## 任务二内容

### MySQL 基础 （一）- 查询语句

#### 学习

1. 导入示例数据库，教程 https://www.yiibai.com/mysql/how-to-load-sample-database-into-mysql-database-server.html

2. SQL是什么？MySQL是什么？

3. 查询语句 SELECT FROM 
    语句解释
    去重语句
    前N个语句
    CASE...END判断语句

4. 筛选语句 WHERE 
    语句解释
    运算符/通配符/操作符

5. 分组语句 GROUP BY
    聚集函数
    语句解释
    HAVING子句

6. 排序语句 ORDER BY 
    语句解释
    正序、逆序

7. 函数
    时间函数
    数值函数
    字符串函数

8. SQL注释

9. SQL代码规范
    [SQL编程格式的优化建议](https://zhuanlan.zhihu.com/p/27466166)
    [SQL Style Guide](https://www.sqlstyle.guide/)

#### 作业

- 项目一：查找重复的电子邮箱（难度：简单）
      
        创建 email表，并插入如下三行数据
        +----+---------+
        | Id | Email   |
        +----+---------+
        | 1  | a@b.com |
        | 2  | c@d.com |
        | 3  | a@b.com |
        +----+---------+

        编写一个 SQL 查询，查找 Email 表中所有重复的电子邮箱。
        根据以上输入，你的查询应返回以下结果：
        +---------+
        | Email   |
        +---------+
        | a@b.com |
        +---------+
        说明：所有电子邮箱都是小写字母。

- 项目二：查找大国（难度：简单）

        创建如下 World 表
        +-----------------+------------+------------+--------------+---------------+
        | name            | continent  | area       | population   | gdp           |
        +-----------------+------------+------------+--------------+---------------+
        | Afghanistan     | Asia       | 652230     | 25500100     | 20343000      |
        | Albania         | Europe     | 28748      | 2831741      | 12960000      |
        | Algeria         | Africa     | 2381741    | 37100000     | 188681000     |
        | Andorra         | Europe     | 468        | 78115        | 3712000       |
        | Angola          | Africa     | 1246700    | 20609294     | 100990000     |
        +-----------------+------------+------------+--------------+---------------+
        如果一个国家的面积超过300万平方公里，或者(人口超过2500万并且gdp超过2000万)，那么这个国家就是大国家。
        编写一个SQL查询，输出表中所有大国家的名称、人口和面积。
        例如，根据上表，我们应该输出:
        +--------------+-------------+--------------+
        | name         | population  | area         |
        +--------------+-------------+--------------+
        | Afghanistan  | 25500100    | 652230       |
        | Algeria      | 37100000    | 2381741      |
        +--------------+-------------+--------------+

#### 彩蛋

考虑到本次集训有很多新手，本次作业赠送建表代码，意不意外，开不开心。
直接将附件code内容复制到cmd或者navicat运行就行。

项目一

-- 创建表

        CREATE TABLE email (
        ID INT NOT NULL PRIMARY KEY,
        Email VARCHAR(255)
        );

-- 插入数据

        INSERT INTO email VALUES('1','a@b.com');
        INSERT INTO email VALUES('2','c@d.com');
        INSERT INTO email VALUES('3','a@b.com');

项目二

-- 创建表

        CREATE TABLE World (
        name VARCHAR(50) NOT NULL,
        continent VARCHAR(50) NOT NULL,
        area INT NOT NULL,
        population INT NOT NULL,
        gdp INT NOT NULL
        );

-- 插入数据

        INSERT INTO World
        VALUES('Afghanistan','Asia',652230,25500100,20343000);
        INSERT INTO World 
        VALUES('Albania','Europe',28748,2831741,12960000);
        INSERT INTO World 
        VALUES('Algeria','Africa',2381741,37100000,188681000);
        INSERT INTO World
        VALUES('Andorra','Europe',468,78115,3712000);
        INSERT INTO World
        VALUES('Angola','Africa',1246700,20609294,100990000);
      
------

# Day 3

## 第三次任务发布

任务3打卡链接：https://shimo.im/docs/Gz4khXKEc1YQevKJ/ 《MySQL任务3打卡-1群》

上次任务作业参考答案：https://shimo.im/docs/JzxO54I1by8yPx4p/ 

任务截止时间：请于4月4日22:00前完成，在打卡表格处打卡。逾期尚未打卡的会被清退。

本次作业以及之后的都需要小伙伴自己创建表和插入数据啦。就当表操作的练习。请注意语句规范，可参考上次作业的参考答案。
表联结是SQL语句核心部分。因为在正式业务中必然会涉及到多表之间的数据调用。所以大家务必完全理解吃透这部分的内容。
祝大家学习开心。:-)

## 任务三内容

### MySQL 基础 （二）- 表操作

#### 学习

1. MySQL表数据类型
 
2. 用SQL语句创建表
    语句解释
    设定列类型 、大小、约束
    设定主键

3. 用SQL语句向表中添加数据
    语句解释
    多种添加方式（指定列名；不指定列名）

4. 用SQL语句删除表
    语句解释
    DELETE
    DROP
    TRUNCATE
    不同方式的区别

5. 用SQL语句修改表
    修改列名
    修改表中数据
    删除行
    删除列
    新建列
    新建行

#### 作业

- 项目三：超过5名学生的课（难度：简单）

        创建如下所示的courses 表 ，有: student (学生) 和 class (课程)。
        例如,表:
        +---------+------------+
        | student | class      |
        +---------+------------+
        | A       | Math       |
        | B       | English    |
        | C       | Math       |
        | D       | Biology    |
        | E       | Math       |
        | F       | Computer   |
        | G       | Math       |
        | H       | Math       |
        | I       | Math       |
        | A      | Math       |
        +---------+------------+

        编写一个 SQL 查询，列出所有超过或等于5名学生的课。
        应该输出:
        +---------+
        | class   |
        +---------+
        | Math    |
        +---------+
        Note:
        学生在每个课中不应被重复计算。

- 项目四：交换工资（难度：简单）

        创建一个 salary表，如下所示，有m=男性 和 f=女性的值 。
        例如:
        | id | name | sex | salary |
        |----|------|-----|--------|
        | 1  | A    | m   | 2500   |
        | 2  | B    | f   | 1500   |
        | 3  | C    | m   | 5500   |
        | 4  | D    | f   | 500    |

        交换所有的 f 和 m 值(例如，将所有 f 值更改为 m，反之亦然)。要求使用一个更新查询，并且没有中间临时表。
        运行你所编写的查询语句之后，将会得到以下表:
        | id | name | sex | salary |
        |----|------|-----|--------|
        | 1  | A    | f  | 2500   |
        | 2  | B    | m   | 1500   |
        | 3  | C    | f   | 5500   |
        | 4  | D    | m   | 500    |

### MySQL 基础 （三）- 表联结

#### 学习

1. MySQL别名

2. INNER JOIN

3. LEFT JOIN

4. CROSS JOIN

5. 自连接

6. UNION

7. 以上几种方式的区别和联系

#### 作业

- 项目五：组合两张表 （难度：简单）

        在数据库中创建表1和表2，并各插入三行数据（自己造）
        表1: Person
        +-------------+---------+
        | 列名         | 类型     |
        +-------------+---------+
        | PersonId    | int     |
        | FirstName   | varchar |
        | LastName    | varchar |
        +-------------+---------+
        PersonId 是上表主键

        表2: Address
        +-------------+---------+
        | 列名         | 类型    |
        +-------------+---------+
        | AddressId   | int     |
        | PersonId    | int     |
        | City        | varchar |
        | State       | varchar |
        +-------------+---------+
        AddressId 是上表主键

        编写一个 SQL 查询，满足条件：无论 person 是否有地址信息，都需要基于上述两表提供 person 的以下信息：FirstName, LastName, City, State

- 项目六：删除重复的邮箱（难度：简单）

        编写一个 SQL 查询，来删除 email 表中所有重复的电子邮箱，重复的邮箱里只保留 Id 最小 的那个。
        +----+---------+
        | Id | Email   |
        +----+---------+
        | 1  | a@b.com |
        | 2  | c@d.com |
        | 3  | a@b.com |
        +----+---------+
        Id 是这个表的主键。
        例如，在运行你的查询语句之后，上面的 Person表应返回以下几行:
        +----+------------------+
        | Id | Email            |
        +----+------------------+
        | 1  | a@b.com |
        | 2  | c@d.com  |
        +----+------------------+

------

# Day4

## 第四次任务发布


任务四任务内容&打卡链接：https://shimo.im/docs/fB9LHQRrvhwT8Tgc/ 《MySQL任务4打卡-1群》

上次任务作业参考答案：https://shimo.im/docs/zGQWJktU7GcAgNUc/ 《MySQL任务3作业参考答案》

任务截止时间:4月6日晚12点。

这是本次集训最后一次任务啦，大家再坚持一下。之前的任务中项目是不是觉得水水的？本次任务都是较为复杂的实战了。建议有能力的小伙伴可以在项目本身的基础上拓展，看能不能将问题设置的更复杂点或实现方式更灵活点。举个栗子：各部门工资最高，是不是可以实现工资第二高的甚至是第N高的？ 自由发挥~
祝大家学习开心。:-)

#### 作业

- 项目七: 各部门工资最高的员工（难度：中等）

        创建Employee 表，包含所有员工信息，每个员工有其对应的 Id, salary 和 department Id。
        +----+-------+--------+--------------+
        | Id | Name  | Salary | DepartmentId |
        +----+-------+--------+--------------+
        | 1  | Joe   | 70000  | 1            |
        | 2  | Henry | 80000  | 2            |
        | 3  | Sam   | 60000  | 2            |
        | 4  | Max   | 90000  | 1            |
        +----+-------+--------+--------------+
        创建Department 表，包含公司所有部门的信息。
        +----+----------+
        | Id | Name     |
        +----+----------+
        | 1  | IT       |
        | 2  | Sales    |
        +----+----------+
        编写一个 SQL 查询，找出每个部门工资最高的员工。例如，根据上述给定的表格，Max 在 IT 部门有最高工资，Henry 在 Sales 部门有最高工资。
        +------------+----------+--------+
        | Department | Employee | Salary |
        +------------+----------+--------+
        | IT         | Max      | 90000  |
        | Sales      | Henry    | 80000  |
        +------------+----------+--------+

- 项目八: 换座位（难度：中等）

        小美是一所中学的信息科技老师，她有一张 seat 座位表，平时用来储存学生名字和与他们相对应的座位 id。
        其中纵列的 id 是连续递增的
        小美想改变相邻俩学生的座位。
        你能不能帮她写一个 SQL query 来输出小美想要的结果呢？
        请创建如下所示seat表：
        示例：
        +---------+---------+
        |    id   | student |
        +---------+---------+
        |    1    | Abbot   |
        |    2    | Doris   |
        |    3    | Emerson |
        |    4    | Green   |
        |    5    | Jeames  |
        +---------+---------+
        假如数据输入的是上表，则输出结果如下：
        +---------+---------+
        |    id   | student |
        +---------+---------+
        |    1    | Doris   |
        |    2    | Abbot  |
        |    3    | Green   |
        |    4    | Emerson |
        |    5    | Jeames  |
        +---------+---------+
        注意：
        如果学生人数是奇数，则不需要改变最后一个同学的座位。

- 项目九:  分数排名（难度：中等）

        编写一个 SQL 查询来实现分数排名。如果两个分数相同，则两个分数排名（Rank）相同。请注意，平分后的下一个名次应该是下一个连续的整数值。换句话说，名次之间不应该有“间隔”。
        创建以下score表：
        +----+-------+
        | Id | Score |
        +----+-------+
        | 1  | 3.50  |
        | 2  | 3.65  |
        | 3  | 4.00  |
        | 4  | 3.85  |
        | 5  | 4.00  |
        | 6  | 3.65  |
        +----+-------+
        例如，根据上述给定的 Scores 表，你的查询应该返回（按分数从高到低排列）：
        +-------+------+
        | Score | Rank |
        +-------+------+
        | 4.00  | 1    |
        | 4.00  | 1    |
        | 3.85  | 2    |
        | 3.65  | 3    |
        | 3.65  | 3    |
        | 3.50  | 4    |
        +-------+------+

- 项目十：行程和用户（难度：困难）

        Trips 表中存所有出租车的行程信息。每段行程有唯一键 Id，Client_Id 和 Driver_Id 是 Users 表中 Users_Id 的外键。Status 是枚举类型，枚举成员为 (‘completed’, ‘cancelled_by_driver’, ‘cancelled_by_client’)。
        +----+-----------+-----------+---------+--------------------+----------+
        | Id | Client_Id | Driver_Id | City_Id |        Status      |Request_at|
        +----+-----------+-----------+---------+--------------------+----------+
        | 1  |     1     |    10     |    1    |     completed      |2013-10-01|
        | 2  |     2     |    11     |    1    | cancelled_by_driver|2013-10-01|
        | 3  |     3     |    12     |    6    |     completed      |2013-10-01|
        | 4  |     4     |    13     |    6    | cancelled_by_client|2013-10-01|
        | 5  |     1     |    10     |    1    |     completed      |2013-10-02|
        | 6  |     2     |    11     |    6    |     completed      |2013-10-02|
        | 7  |     3     |    12     |    6    |     completed      |2013-10-02|
        | 8  |     2     |    12     |    12   |     completed      |2013-10-03|
        | 9  |     3     |    10     |    12   |     completed      |2013-10-03| 
        | 10 |     4     |    13     |    12   | cancelled_by_driver|2013-10-03|
        +----+-----------+-----------+---------+--------------------+----------+
        Users 表存所有用户。每个用户有唯一键 Users_Id。Banned 表示这个用户是否被禁止，Role 则是一个表示（‘client’, ‘driver’, ‘partner’）的枚举类型。
        +----------+--------+--------+
        | Users_Id | Banned |  Role  |
        +----------+--------+--------+
        |    1     |   No   | client |
        |    2     |   Yes  | client |
        |    3     |   No   | client |
        |    4     |   No   | client |
        |    10    |   No   | driver |
        |    11    |   No   | driver |
        |    12    |   No   | driver |
        |    13    |   No   | driver |
        +----------+--------+--------+
        写一段 SQL 语句查出 2013年10月1日 至 2013年10月3日 期间非禁止用户的取消率。基于上表，你的 SQL 语句应返回如下结果，取消率（Cancellation Rate）保留两位小数。
        +------------+-------------------+
        |     Day    | Cancellation Rate |
        +------------+-------------------+
        | 2013-10-01 |       0.33        |
        | 2013-10-02 |       0.00        |
        | 2013-10-03 |       0.50        |
        +------------+-------------------+

- 项目十一：各部门前3高工资的员工（难度：中等）

        将项目7中的employee表清空，重新插入以下数据（其实是多插入5,6两行）：
        +----+-------+--------+--------------+
        | Id | Name  | Salary | DepartmentId |
        +----+-------+--------+--------------+
        | 1  | Joe   | 70000  | 1            |
        | 2  | Henry | 80000  | 2            |
        | 3  | Sam   | 60000  | 2            |
        | 4  | Max   | 90000  | 1            |
        | 5  | Janet | 69000  | 1            |
        | 6  | Randy | 85000  | 1            |
        +----+-------+--------+--------------+
        编写一个 SQL 查询，找出每个部门工资前三高的员工。例如，根据上述给定的表格，查询结果应返回：
        +------------+----------+--------+
        | Department | Employee | Salary |
        +------------+----------+--------+
        | IT         | Max      | 90000  |
        | IT         | Randy    | 85000  |
        | IT         | Joe      | 70000  |
        | Sales      | Henry    | 80000  |
        | Sales      | Sam      | 60000  |
        +------------+----------+--------+
        此外，请考虑实现各部门前N高工资的员工功能。

        项目十二  分数排名 - （难度：中等）
        依然是昨天的分数表，实现排名功能，但是排名是非连续的，如下：
        +-------+------+
        | Score | Rank |
        +-------+------+
        | 4.00  | 1    |
        | 4.00  | 1    |
        | 3.85  | 3    |
        | 3.65  | 4    |
        | 3.65  | 4    |
        | 3.50  | 6    |
        +-------+------

------

# Final

@所有人
恭喜大家成功完成本次集训~今晚八点左右会进行毕业典礼 ~大家到时有空的话记得参加哦

任务四作业参考答案
https://shimo.im/docs/0mjjcf48eIoxgLtP/ 《MySQL任务4作业参考答案》 

有疑问随时在群里提出来